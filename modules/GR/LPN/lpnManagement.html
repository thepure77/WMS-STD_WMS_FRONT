<meta http-equiv="Pragma" content="no-cache">

<header class="page-header">
    <div class="col-lg-8 col-md-8 col-sm-9 col-xs-9  page-header-left">
        <div class="col-md-12 col-xs-12 col-sm-12 kw-p-zero">
            <h2>{{ 'INBOUND' | translate }} </h2>
            <div class="navigationLabel">
                <i class="kw-size-icon fa fa-play" aria-hidden="true"></i>
                {{ 'TAG_MANAGEMENT' | translate }}</div>
        </div>
    </div>
    <div class="col-lg-4 col-md-4 col-sm-3 col-xs-3 page-header-right">
        <div class="right-wrapper">
        </div>
    </div>
</header>
<div class="tabs">
    <div class="panel-body">
        <div class="tab-content" style="margin-top:15px;">
            <div class="row" style="margin-left:0px;">
                <div class="form-group" style="margin-top:15px;">
                    <div class="col-lg-12 col-md-12 col-xs-12">

                        <div class="col-lg-3 col-md-3 col-xs-12  kw-p-zero">
                            <div class="col-lg-10 col-md-10 col-xs-12  kw-p-zero">
                                <span>{{ 'GR_NO' | translate }}</span>
                            </div>
                            <div class="col-lg-10 col-md-10 col-xs-12  kw-p-zero">
                                <auto-comple ks-enter="filterGR(model)" ng-model="model.key" value="model.goodsReceive_No" sourceurl="autoComplete.GoodsReceive"
                                    api="url.GR"></auto-comple>
                            </div>
                        </div>

                        <div class="col-lg-3 col-md-3 col-xs-12  kw-p-zero">
                            <div class="col-lg-10 col-md-10 col-xs-12  kw-p-zero">
                                <span>{{ 'GR_DATE' | translate }}:</span>
                            </div>
                            <div class="col-lg-10 col-md-10 col-xs-12  kw-p-zero">
                                <input type="text" class="form-control" ng-model="filterItemsModel.goodsReceive_Date|dateFormate" disabled />
                            </div>
                        </div>

                        <div class="col-lg-3 col-md-3 col-xs-12  kw-p-zero">
                            <div class="col-lg-10 col-md-10 col-xs-12  kw-p-zero">
                                <span>{{ 'STATUS' | translate }}:</span>
                            </div>
                            <div class="col-lg-10 col-md-10 col-xs-12  kw-p-zero">
                                <input type="text" class="form-control" ng-model="filterItemsModel.processStatus_Name" disabled />
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-group" style="margin-top:15px;">
                    <div class="col-lg-12 col-md-12 col-xs-12">
                        <div class="col-lg-3 col-md-3 col-xs-12  kw-p-zero">
                            <div class="col-lg-10 col-md-10 col-xs-12  kw-p-zero">
                                <span>{{ 'TAG_PALLET' | translate }}:</span>
                            </div>

                            <div class="col-lg-10 col-md-10 col-xs-12  kw-p-zero">
                                <select ng-init="filterItemsModel.genTagType = '4' " ng-model='filterItemsModel.genTagType' class='form-control' ng-change="CheckTag(filterItemsModel.genTagType)">
                                    <option value="">{{ 'PLEASE_SELECTED' | translate }}</option>
                                    <option value="1">1:1</option>
                                    <option value="2">1:M</option>
                                    <option value="4">Qty/PerPallet</option>
                                </select>
                            </div>
                        </div>

                        <div class="col-lg-3 col-md-3 col-xs-12  kw-p-zero">
                            <div class="col-lg-10 col-md-10 col-xs-12  kw-p-zero">
                            </div>
                            <div class="col-lg-10 col-md-10 col-xs-12  kw-p-zero" style="margin-top:18px;">
                                <button class="btn btn-filter" ng-click="assignTag(filterItemsModel.items)">{{ 'ASSIGN_TAG' | translate }}</button>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 table-responsive " style="margin-top:15px;">
                    <div class="table-responsive table-overflow div-shadow">
                        <table class="table table-striped table-bordeered fixed-header">
                            <thead>
                                <tr>
                                    <th class="text-center k100">
                                        <div>
                                            <input ng-change="detectCheckAllItems()" ng-model="chkAll.checkAllItems" type="checkbox" id="all__" class="ig-control__cbx"
                                                checked ng-disabled="filterItemsModel.genTagType == 2" />
                                            <label for="all__"></label>
                                        </div>
                                    </th>
                                    <th class="k50 text-center">{{ 'NO' | translate }}</th>
                                    <th class="k150 text-center">{{ 'MATERIAL_NO' | translate }}</th>
                                    <th class="k200 text-center">{{ 'MATERIAL' | translate }}</th>
                                    <th class="k100 text-center">{{ 'QTY' | translate }}</th>
                                    <th class="k100 text-center">{{ 'PACKAGE' | translate }}</th>
                                    <th class="k100 text-center">{{ 'WEIGHT' | translate }}</th>
                                    <th class="k100 text-center">{{ 'VOLUME' | translate }}</th>
                                    <th class="k100 text-center">{{ 'STATUS' | translate }}</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="dataItem in filterItemsModel.items">
                                    <td class="text-center k100">
                                        <input ng-click="checkItems($index)" ng-model="dataItem.selected" type="checkbox" id="check__{{$index}}" class="ig-control__cbx"
                                            checked />
                                        <label for="check__{{$index}}"></label>
                                    </td>
                                    <td class="k50 text-center">{{$index + 1}}</td>
                                    <td class="k150 text-center">{{dataItem.product_Id}}</td>
                                    <td class="k200 text-center">{{dataItem.product_Name}}</td>
                                    <td class="k100 text-center">{{dataItem.remainingQty}}</td>
                                    <td class="k100 text-center">{{dataItem.productConversion_Name}}</td>
                                    <td class="k100 text-center">{{dataItem.remainingWeight}}</td>
                                    <td class="k100 text-center">{{dataItem.remainingVolume|convertM3}}</td>
                                    <td class="k100 text-center">{{dataItem.putaway_Status}}</td>
                                </tr>
                            </tbody>

                        </table>

                    </div>
                </div>

                <div class="form-group" style="margin-top:15px;">
                    <div class="col-lg-12 col-md-12 col-xs-12" style="margin-top:15px;">

                        <div class="col-lg-3 col-md-3 col-xs-12  kw-p-zero">
                            <div class="col-lg-10 col-md-10 col-xs-12  kw-p-zero">
                                <span>{{ 'LOCATION' | translate }}:</span>
                            </div>
                            <div class="col-lg-10 col-md-10 col-xs-12  kw-p-zero">
                                <input type="text" class="form-control" ng-model="modelLocation.name" />

                            </div>
                        </div>

                        <div class="col-lg-5 col-md-5 col-xs-12  kw-p-zero">
                            <div class="col-lg-10 col-md-10 col-xs-12  kw-p-zero">
                            </div>
                            <div class="col-lg-11 col-md-10 col-xs-12  kw-p-zero" style="margin-top:18px;">
                                <button class="btn btn-filter" ng-click="addLocation(modelLocation)">{{ 'CONFIRM' | translate }}</button>
                                <button class="btn btn-filter" ng-click="sugesstion()">{{ 'SUGGESTION' | translate }}</button>
                                <button class="btn btn-danger" ng-click="deleteTag(filterItemsTagModel.listPlanGoodsReceiveItemViewModel)" >{{ 'CLEAR' | translate }}</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 table-responsive " style="margin-top:15px;">
                    <div class="table-responsive table-overflow div-shadow">
                        <table class="table table-striped table-bordeered fixed-header">
                            <thead>
                                <tr>
                                    <th class="k50 text-center">
                                        <input ng-change="detectCheckAllTagItems()" ng-model="chkAll.checkAllTagItems" type="checkbox" id="all_" class="ig-control__cbx"
                                            checked />
                                        <label for="all_"></label>
                                    </th>
                                    <th class="k50 text-center">{{ 'NO' | translate }}</th>
                                    <th class="k150 text-center">{{ 'TAG_NO' | translate }}</th>
                                    <th class="k100 text-center">{{ 'SUGESSTION_LOCATION' | translate }}</th>
                                    <th class="k150 text-center">{{ 'MATERIAL_NO' | translate }}</th>
                                    <th class="k200 text-center">{{ 'MATERIAL' | translate }}</th>
                                    <th class="k100 text-center">{{ 'QTY' | translate }}</th>
                                    <th class="k100 text-center">{{ 'PACKAGE' | translate }}</th>
                                    <th class="k100 text-center">{{ 'WEIGHT' | translate }}</th>
                                    <th class="k100 text-center">{{ 'VOLUME' | translate }}</th>
                                    <th class="k100 text-center">{{ 'STATUS' | translate }}</th>
                                    <th class="k100 text-center">{{ 'STATUS_TAG' | translate }}</th>
                                    <th class="k100 text-center">{{ 'PUTAWAY_BY' | translate }}</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="dataItemTag in filterItemsTagModel.listPlanGoodsReceiveItemViewModel">
                                    <td class="k50 text-center">
                                        <input ng-click="checkTagItems($index,dataItemTag.selected)" ng-model="dataItemTag.selected" type="checkbox" id="checkTag_{{$index}}"
                                            class="ig-control__cbx" checked />
                                        <label for="checkTag_{{$index}}"></label>
                                    </td>
                                    <td class="k50 text-center">{{$index+1}}</td>
                                    <td class="k150 text-center">{{dataItemTag.tag_No}}</td>
                                    <td class="k100 text-center">
                                        {{dataItemTag.suggest_Location_Name}}
                                    </td>
                                    <td class="k150 text-center">{{dataItemTag.product_Id}}</td>
                                    <td class="k200 text-center">{{dataItemTag.product_Name}}</td>
                                    <td class="k100 text-center">{{dataItemTag.qty}}</td>
                                    <td class="k100 text-center">{{dataItemTag.productConversion_Name}}</td>
                                    <td class="k100 text-center">{{dataItemTag.weight}}</td>
                                    <td class="k100 text-center">{{dataItemTag.volume|convertM3}}</td>
                                    <td class="k100 text-center">{{dataItemTag.itemStatus_Name}}</td>
                                    <td class="k100 text-center">{{dataItemTag.putaway_Status}}</td>
                                    <td class="k100 text-center">{{dataItemTag.putaway_By}}</td>
                                </tr>
                            </tbody>
                        </table>

                    </div>
                </div>

                <div class="form-group ">
                    <div class="col-lg-12 col-md-12 col-xs-12">
                        
                        <div class="text-right padding-m"> 
                                <button class="btn btn-step-back text-left" ng-show="$vm.showBack" ng-click="back()">
                                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                                    {{ 'BACK' | translate }}
                                </button> 
                            <!-- <button class="btn btn-filter" type="button"
                    ng-click="popupPrintTagReport.onClick(filterItemsTagModel.listPlanGoodsReceiveItemViewModel)">
                    <i class="fa fa-print"></i>{{ 'PRINT_TAG' | translate }}
                </button> -->
                            <button class="btn btn-filter" type="button" ng-click="printTagPutaway(filterItemsTagModel.listPlanGoodsReceiveItemViewModel)">
                                <i class="fa fa-print"></i>{{ 'PRINT_TAG' | translate }}
                            </button>


                            <button type="button" class="btn btn-primary previous" ng-click="finished()">
                                {{ 'FINISHED' | translate }}
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<many-to-one-popup on-show='popupmanyToOne.onShow' config='popupmanyToOne.config' invokes='popupmanyToOne.invokes' delegates='popupmanyToOne.delegates'>
</many-to-one-popup>
<one-to-many-popup on-show='popuponeToManyPopup.onShow' config='popuponeToManyPopup.config' invokes='popuponeToManyPopup.invokes'
    delegates='popuponeToManyPopup.delegates'>
</one-to-many-popup>
<report-popup on-show='popupReport.onShow' config='popupReport.config' invokes='popupReport.invokes' delegates='popupReport.delegates'>
</report-popup>
<report-print-tag-popup on-show='popupPrintTagReport.onShow' config='popupPrintTagReport.config' invokes='popupPrintTagReport.invokes'
    delegates='popupPrintTagReport.delegates'>
</report-print-tag-popup>